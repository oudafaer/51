C51 COMPILER V9.59.0.0   MAIN                                                              11/21/2021 10:10:31 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: E:\SCM\keil 4\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\m
                    -ain.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "reg52.h"
   2          #include <intrins.h>
   3          #include "key.h"
   4          #include "timer0.h"
   5          
   6          unsigned char keynum,ledmode;
   7          
   8          void Timer0() interrupt 1
   9          {
  10   1          static unsigned int T0count;
  11   1              TR0=0;
  12   1              T0count++;
  13   1              TL0 = 0x18;             //设置定时初值
  14   1              TH0 = 0xFC;             //设置定时初值
  15   1              if(T0count>=500)
  16   1              {
  17   2                      T0count=0;
  18   2                      if(ledmode==0)
  19   2                      {
  20   3                              P1=_crol_(P1,1);
  21   3                      }
  22   2                      if(ledmode==1)
  23   2                      {
  24   3                              P1=_cror_(P1,1);
  25   3                      }       
  26   2              }
  27   1              TR0=1;
  28   1      }
  29          
  30          void main()
  31          {
  32   1              P1=0xfe;
  33   1              Timer0Init();
  34   1              while(1)
  35   1              {
  36   2                      keynum=key();
  37   2                      if(keynum)
  38   2                      {
  39   3                              if(keynum==1)
  40   3                              {
  41   4                                      ledmode++;
  42   4                                      if(ledmode>=2)
  43   4                                      {
  44   5                                              ledmode=0;
  45   5                                      }
  46   4                              }
  47   3                      }
  48   2                      
  49   2                      
  50   2              }               
  51   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.59.0.0   MAIN                                                              11/21/2021 10:10:31 PAGE 2   

   CODE SIZE        =    139    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
